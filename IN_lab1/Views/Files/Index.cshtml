@{
    List<UploadedFile>? uploadedFiles = Model;

    string[] SizeSuffixes = { "bytes", "KB", "MB", "GB", "TB" };

    string ConvertBytesSizeToString(long value)
    {
        long i = 0;
        decimal dValue = (decimal)value;
        while (Math.Round(dValue, 1) >= 1000)
        {
            dValue /= 1024;
            i++;
        }

        return string.Format("{0:n" + 1 + "} {1}", dValue, SizeSuffixes[i]);
    }
}

<div class="container">
    <h3 class="display-4">Files</h3>

    <hr class="hr my-3" />

    <form method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="file">Select File:</label>
            <input type="file" name="file" id="file" class="form-control" required />
        </div>
        <hr class="hr my-3" />
        <button type="submit" class="btn btn-primary">Upload</button>
    </form>

    <hr class="hr my-3" />

    @if (uploadedFiles.Count == 0)
    {
        <p>You haven't uploaded any file. It's good opportunity to upload first one :)</p>
    }
    else
    {
        <div class="panel">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Filename</th>
                        <th>Upload time</th>
                        <th>Size</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var file in uploadedFiles)
                    {
                        <tr class="paginate-show"><td><a asp-controller="Files" asp-action="GetFile" asp-route-id="@file.Id.ToString()">@file.OriginalFileName</a></td><td>@file.UploadDate.ToString()</td><td>@ConvertBytesSizeToString(file.FileSize)</td></tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>
